/*
912. æ’åºæ•°ç»„
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¯·ä½ å°†è¯¥æ•°ç»„å‡åºæ’åˆ—ã€‚
 */

/**
 * å¿«é€Ÿæ’åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿæ—¶é—´å¤æ‚åº¦çš„æœ€å¥½æœ€åçš„æƒ…å†µæ˜¯å¤šå°‘ï¼Œæœ‰å“ªäº›ä¼˜åŒ–æ–¹æ¡ˆ
 *
 å¹³å‡æƒ…å†µä¸‹å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯Î˜(ğ‘›lgğ‘›)ï¼Œæœ€åæƒ…å†µæ˜¯ğ‘›^2ï¼Œ
 1å½“åˆ’åˆ†äº§ç”Ÿçš„ä¸¤ä¸ªå­é—®é¢˜åˆ†åˆ«åŒ…å« n-1 å’Œ 0 ä¸ªå…ƒç´ æ—¶ï¼Œæœ€åæƒ…å†µå‘ç”Ÿã€‚
  åˆ’åˆ†æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºÎ˜(ğ‘›)ï¼Œğ‘‡(0)=Î˜(1)ï¼Œ
  è¿™æ—¶ç®—æ³•è¿è¡Œæ—¶é—´çš„é€’å½’å¼ä¸º ğ‘‡(ğ‘›)=ğ‘‡(ğ‘›âˆ’1)+ğ‘‡(0)+Î˜(ğ‘›)=ğ‘‡(ğ‘›âˆ’1)+Î˜(ğ‘›)ï¼Œè§£ä¸ºğ‘‡(ğ‘›)=Î˜(ğ‘›2)ã€‚
 2å½“åˆ’åˆ†äº§ç”Ÿçš„ä¸¤ä¸ªå­é—®é¢˜åˆ†åˆ«åŒ…å«âŒŠğ‘›/2âŒ‹å’ŒâŒˆğ‘›/2âŒ‰âˆ’1ä¸ªå…ƒç´ æ—¶ï¼Œæœ€å¥½æƒ…å†µå‘ç”Ÿã€‚ç®—æ³•è¿è¡Œæ—¶é—´é€’å½’å¼ä¸º ğ‘‡(ğ‘›)=2ğ‘‡(ğ‘›/2)+Î˜(ğ‘›)ï¼Œè§£ä¸ºğ‘‡(ğ‘›)=Î˜(ğ‘›lgğ‘›)ã€‚

 * ä½†é€šè¿‡éšæœºç®—æ³•å¯ä»¥é¿å…æœ€åæƒ…å†µã€‚
 * ä¸‰æ•°ä¸­å€¼åˆ†å‰²æ³•ï¼šï¼ˆå› ä¸ºå¯ä»¥å°†åºåˆ—å‡åˆ†ä¸ºä¸¤ä¸ªå­åºåˆ—ï¼Œå½’å¹¶æ’åºå‘Šè¯‰æˆ‘ä»¬ï¼Œè¿™æ—¶å€™æ˜¯O(NlogNï¼‰
 * è®¡ç®—æ•°ç»„çš„ç¬¬ä¸€ä¸ªï¼Œä¸­é—´ä½ç½®ï¼Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸­å€¼æ¥ä»£æ›¿ã€‚

 *
 *
 * å› ä¸ºå¿«æ’çš„å®ç°æ˜¯é€’å½’è°ƒç”¨çš„ï¼Œ è€Œä¸”æ¯æ¬¡å‡½æ•°è°ƒç”¨ä¸­åªä½¿ç”¨äº†å¸¸æ•°çš„ç©ºé—´ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ç­‰äºé€’å½’æ·±åº¦Î˜(lgn)ã€‚

 */
//é€’å½’
var sortArray = function(num) {
    quickSort(num, 0, num.length - 1); // å°†æ•´ä¸ªnumæ•°ç»„å¿«é€Ÿæ’åºï¼Œleftå’Œrightåˆ†åˆ«æŒ‡å‘æ•°ç»„å·¦å³ä¸¤ç«¯ã€‚
    return num;
}

var quickSort = function(num, left, right) {
    if (left >= right) return; // è‹¥å·¦å³æŒ‡é’ˆç›¸é‡ï¼Œå³é€’å½’çš„ç»ˆç‚¹
    var i = left, j = right, flag = left; // å®šä¹‰å¯ç§»åŠ¨çš„å·¦å³æŒ‡é’ˆ iï¼Œjï¼Œå®šä¹‰flagä¸ºåŸºæ•°ä¸‹æ ‡ã€‚
    while (i < j) {
        while (num[j] >= num[flag] && j > flag) j--; // jä¸æ–­å·¦ç§»ï¼Œæ‰¾åˆ°åœ¨num[flag]å³ä¾§ä¸”æ¯”å®ƒå¤§çš„æ•°ã€‚
        if (i >= j) break;

        while (num[i] <= num[flag] && i < j) i++;

        // ES6è¯­æ³•ç³–[num[flag],num[j],num[i]] = [num[j],num[i],num[flag]];
        let temp = num[flag];
        num[flag] = num[j];//å°çš„å¾€å·¦
        num[j] = num[i];//å¤§çš„å¾€å³
        num[i] = temp//flagæ”¾ä¸­é—´

        //flagæŒªåˆ°num[flag]ä¸‹æ ‡iå¤„
        flag = i;
    }
    quickSort(num, left, flag - 1); // å°†flagå·¦è¾¹æ•°ç»„ä½œä¸ºå¾…æ’åºæ•°ç»„ï¼Œé€’å½’è°ƒç”¨ã€‚
    quickSort(num, flag + 1, right); // å°†flagå³è¾¹æ•°ç»„ä½œä¸ºå¾…æ’åºæ•°ç»„ï¼Œé€’å½’è°ƒç”¨ã€‚
}



//è¿­ä»£
var sortArray = function(num) {
    quickSort(num, 0, num.length - 1); // å°†æ•´ä¸ªnumæ•°ç»„å¿«é€Ÿæ’åºï¼Œleftå’Œrightåˆ†åˆ«æŒ‡å‘æ•°ç»„å·¦å³ä¸¤ç«¯ã€‚
    return num;
}

var quickSort = function(num, left, right) {

    var list = [[left, right]]; // å°†[left,right]å­˜å…¥æ•°ç»„ä¸­ï¼Œç±»ä¼¼äºé€’å½’å…¥æ ˆ

    while (list.length > 0) {
        var now = list.pop();
        if (now[0] >= now[1]) continue;

        var i = now[0], j = now[1], flag = now[0]; // ä»¥ä¸‹ä¸é€’å½’æ–¹æ³•ç›¸åŒï¼Œè¯·å‚è€ƒä¸Šé¢çš„é€’å½’è¯¦è§£
        while (i < j) {
            while (num[j] >= num[flag] && j > flag) j--;
            if (i >= j) break;

            while (num[i] <= num[flag] && i < j) i++;

            let temp = num[flag];
            num[flag] = num[j];
            num[j] = num[i];
            num[i] = temp;

            flag = i;
        }
        list.push([now[0], flag - 1]); // å°†flagå·¦è¾¹æ•°ç»„ä½œä¸ºå¾…æ’åºæ•°ç»„ï¼Œåªéœ€å°†å·¦å³æŒ‡é’ˆæ”¾å…¥listå³å¯ã€‚
        list.push([flag + 1, now[1]]); // å°†flagå³è¾¹æ•°ç»„ä½œä¸ºå¾…æ’åºæ•°ç»„ï¼Œåªéœ€å°†å·¦å³æŒ‡é’ˆæ”¾å…¥listå³å¯ã€‚
    }
}